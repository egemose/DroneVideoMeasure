{% extends 'base.html' %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
  <!-- The loading of KaTeX is deferred to speed up page rendering -->
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
  <!-- To automatically render math in text elements, include the auto-render extension: -->
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
{% endblock %}

{% block add_navbar %}
<li class="nav-item active">
  <a class="nav-link" href="{{ url_for('drones.index') }}"><i class="fas fa-plane"></i> Drones</a>
</li>
{% endblock %}

{% block content %}
  <div class="jumbotron">
    <div class="row justify-content-between">
      <div class="col-auto mx-auto text-center">
        <h2>Camera Calibration Parameters</h2>
        $$
        \text{camera matrix} =
        \begin{bmatrix}
          f_x={{ mtx[0, 0] }} & 0 & c_x={{ mtx[0, 2] }} \\
          0 & f_y={{ mtx[1, 1] }} & c_y={{ mtx[1, 2] }} \\
          0 & 0 & 1
        \end{bmatrix}
        $$
        $$
        \text{distortion coefficients} =
        \begin{bmatrix}
          k_1={{ dist[0, 0] }} & k_2={{ dist[0, 1] }} & p_1={{ dist[0, 2] }} & p_2={{ dist[0, 3] }} & k_3={{ dist[0, 4] }}\\
        \end{bmatrix}
        $$
        $$
        \text{horizontal field of view} = {{ fov_x }}^{\circ}
        $$
        $$
        \text{vertical field of view} = {{ fov_y }}^{\circ}
        $$
        <h3>Description:</h3>
        <p>
          Focal length \((f_x, f_y)\)
        </p>
        <p>
          Optical centers \((c_x, c_y)\)
        </p>
        <p>
          Radial distortion \((k_1, k_2, k_3)\)
        </p>
        <p>
          Tangential distortion \((p_1, p_2)\)
        </p>
      </div>
    </div>
  </div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script type="text/javascript">
</script>
{% endblock %}
